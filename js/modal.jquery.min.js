!function(a){"function"==typeof define?define(["jquery"],a):a(jQuery)}(function(a){var b=function(b,c){this.init(c),this.target=a(b).attr("href")};b.prototype={init:function(b){var c=this;c.$el=a("#modal_lite"),c.conf=b;var d=a('<div id="modal_lite"></div>'),e='<div class="modal-lite-body"></div>',f='<div class="modal-lite-header"><a class="modal-lite-close" href="javascript:;">X</a></div>';c.modal_wrap=d,0===c.$el.length&&(d.append(f).append(e),a("body").append(d),c.$el=a("#modal_lite")),a(document).off("click").on("click",".modal-lite-close",function(){c.$el.hide().removeClass("show")})},open:function(){var b=this,c=b.conf;if(!b.$el.hasClass("show"))if(b.$el.data("target")===b.target)b.$el.addClass("show").show();else{var d=a(window).height(),e=a(window).width(),f=c.width,g=(c.height,(d-f)/2),h=(e-f)/2;0>g&&(g=10),0>h&&(h=10);var i={left:h,top:g,width:c.width,height:c.height};c.fixed&&(i=a.extend(i,{position:"fixed"})),b.$el.data("target",b.target).css(i).addClass("show").show().find(".modal-lite-body").html(a(b.target).html()),void 0!==c.handler&&(b.$el.find(".modal-ok").off("click").on("click",function(){c.handler.ok()}),b.$el.find(".modal-cancel").off("click").on("click",function(){c.handler.cancel(),b.$el.hide().removeClass("show")}))}}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);modal=new b(this,f),e||d.data("modal",modal),d.on("click",function(a){a.preventDefault(),modal.open()})})},a.fn.modal.defaults={width:400,height:500,fixed:!1}});